<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="keywords" content="GNU, Linux, collection, list, useful, commands, notes, tricks, hacks">
    <meta name="description" content="A collection of useful GNU/Linux commands and notes.">
    <title>GNU/Linux tricks</title>
    <style>
      pre {
        white-space: pre-wrap;
        word-wrap: break-word;
      }
    </style>
  </head>
  <body>
<pre><b>A collection of useful GNU/Linux commands and notes.</b>

<b>Contents:</b>
1.  <a href="#1">How to use terminal?</a>
2.  <a href="#2">How to use vi (vim)?</a>
3.  <a href="#3">How to see command history?</a>
4.  <a href="#4">How to measure size of files/folders?</a>
5.  <a href="#5">How to see open ports?</a>
6.  <a href="#6">Where I can write aliases for bash commands?</a>
7.  <a href="#7">How to delete user?</a>
8.  <a href="#8">How to extract/compress files?</a>
9.  <a href="#9">How to write bash script?</a>
10. <a href="#10">How to debug process?</a>
11. <a href="#11">How to transfer files via ssh?</a>
12. <a href="#12">How to see how much free space I have?</a>
13. <a href="#13">How to delete all files in current directory if there are more than 1024 files? ("-bash: /bin/rm: Argument list too long" error)</a>
14. <a href="#14">How to see OS version?</a>
15. <a href="#15">How to see cron tasks for user?</a>
16. <a href="#16">How to generate passwords?</a>
17. <a href="#17">How to find?</a>
18. <a href="#18">How to replace pattern in files?</a>
19. <a href="#19">How to measure server response time?</a>
20. <a href="#20">How to import database in MySQL?</a>
21. <a href="#21">How to log out from GNOME?</a>
22. <a href="#22">How to adjust the brightness?</a>
23. <a href="#23">How to use the screen?</a>
24. <a href="#24">How to install an encrypted system?</a>

<a name="1"></a><b>1. How to use terminal?</b>

ctrl+alt+t     -- <i>new terminal</i>
ctrl+shift+t   -- <i>new tab</i>
ctrl+shift+c/v -- <i>copy/paste</i>

<a name="2"></a><b>2. How to use vi (vim)?</b>

i      -- <i>edit mode</i>
o      -- <i>edit mode + new line</i>
esc    -- <i>command mode</i>
:q     -- <i>quit</i>
:q!    -- <i>quit without saving</i>
:w     -- <i>save</i>
:wq    -- <i>save and quit</i>
:123   -- <i>jump to the line #123</i>
/foo   -- <i>find "foo" in the file; press "n" to go to the next</i>
dd     -- <i>delete line</i>
u      -- <i>undo</i>
ctrl+r -- <i>redo</i>
G      -- <i>jump to the end of file</i>
gg     -- <i>jump to the top of file</i>
v      -- <i>select with keyboard</i>
d      -- <i>delete block selected with keyboard</i>
ggVG   -- <i>select all file</i>
y      -- <i>copy text selected with keyboard</i>
p      -- <i>paste</i>

<a name="3"></a><b>3. How to see command history?</b>

history -- <i>loads last executed commands from ~/.bash_history</i>
crtl+r  -- <i>search command in history (press it multiple times to jump to the next result)</i>

<a name="4"></a><b>4. How to measure size of files/folders?</b>

du -hs   -- <i>summary size of current folder</i>
du -hs * -- <i>size of files and folders in a current directory</i>
ncdu     -- <i>convinient program for measurement of size folder and files. Probably not installed by default. Download it from repos.</i>

<a name="5"></a><b>5. How to see open ports?</b>

netstat -tnlp

<a name="6"></a><b>6. Where I can write aliases for bash commands?</b>

~/.bashrc

<a name="7"></a><b>7. How to delete user?</b>

userdel user_name
userdel -rf user_name -- <i>delete with his home directory</i>

<a name="8"></a><b>8. How to extract/compress files?</b>

tar xjvf archive.tar.bz2 -- <i>extract bz2 archive</i>
tar xzvf archive.tar.gz  -- <i>extract gz archive</i>
tar czvf archive.tar.gz dir_name -- <i>put dir_name into archive</i>
tar czvf archive.tar.gz file1 file2 file3 -- <i>put many files into one archive</i>
gunzip archive.zip -- <i>extract zip archive</i>

<a name="9"></a><b>9. How to write bash script?</b>

<i>Put "#!/bin/bash" as the first string (without quotes), write commands on the next lines.
Write "set -x" where you want to enable debug.
Save it with ".sh" extension. And set executable flag for file. Now you can run it simply by entering path to this file:</i>

/some/folder/with/scripts/script.sh

<i>or</i>

./script.sh -- <i>if you are in the folder /some/folder/with/scripts/ now</i>

<a name="10"></a><b>10. How to debug process?</b>

strace -p process_id

<a name="11"></a><b>11. How to transfer files via ssh?</b>

scp user_name@server_ip:/files/for/download/ /where/to/download/
rsync -avPz -e "ssh -p 22" --numeric-ids user_name@server_ip:/from/ /where/
mc -- <i>use Midnight Commander</i>

<a name="12"></a><b>12. How to see how much free space I have?</b>

df -h

<a name="13"></a><b>13. How to delete all files in current directory if there are more than 1024 files? ("-bash: /bin/rm: Argument list too long" error)</b>

find . | xargs rm

<a name="14"></a><b>14. How to see OS version?</b>

lsb_release -a
cat /etc/*release

<a name="15"></a><b>15. How to see cron tasks for user?</b>

crontab -l -u user_name

<a name="16"></a><b>16. How to generate passwords?</b>

apg -MCLN -m 16 -a 1  -- <i>where 16 is desired length</i>
apg -MCLNS -m 16 -a 1 -- <i>use special characters</i>

<a name="17"></a><b>17. How to find?</b>

grep -r pattern *         -- <i>find pattern in files</i>
find ./ -name "file*.txt" -- <i>find by filename</i>

<a name="18"></a><b>18. How to replace pattern in files?</b>

sed -i -e 's/one/two/g' file.txt -- <i>replace all occurrences of "one" to "two" in the file.txt</i>
find ./ -type f -exec sed -i -e 's/one/two/g' {} \; -- <i>replace recursively in all files</i>

<a name="19"></a><b>19. How to measure server response time?</b>

curl -o /dev/null -s -w %{time_total}\\n http://example.com/

<a name="20"></a><b>20. How to import database in MySQL?</b>

mysql -u user_name -ppassword_here db_name &lt; db_name.sql

<a name="21"></a><b>21. How to log out from GNOME?</b>

gnome-session-quit

<a name="22"></a><b>22. How to adjust the brightness?</b>

echo "50" &gt; /sys/class/backlight/radeon_bl0/brightness -- <i>where "50" is desired level (0..255); probably you have to replace "radeon_bl0" by your videocard name</i>

<a name="23"></a><b>23. How to use the screen?</b>

<i><a target="_blank" href="https://grez911.github.io/files/screen.mp4">Here</a> is a short video about this program in action. A small cheatlist</i>:

screen       -- <i>enter into the screen</i>
ctrl+a c     -- <i>the new screen window</i>
ctrl+a n     -- <i>switch between windows</i>
ctrl+a d     -- <i>detach from the screen</i>
screen -r    -- <i>reattach to the screen</i>
screen -list -- <i>list all running screens</i>
ctrl+a :quit -- <i>close the screen</i>

<a name="24"></a><b>24. How to install an encrypted system?</b>

<i><a target="_blank" href="https://gist.github.com/mattiaslundberg/8620837">An instruction</a> for Arch (with UEFI, encrypted root and swap, non-encrypted /boot and UEFI image).</i>
<i><a target="_blank" href="https://xo.tc/setting-up-full-disk-encryption-on-debian-jessie.html">An instruction</a> for Debian (with BIOS, encrypted root and swap, non-encrypted /boot).</i>
</pre>
  </body>
</html>
